---
title: "@mdx-js/react"
---

为MDX React上下文。

## 这是什么？

此包是一个基于*上下文*的组件提供商，用于将React与MDX相结合。

## 我什么时候该用这个？

This package is **not needed** for MDX to work with React.
See [¶ MDX provider in § Using MDX][use-provider] for when and how to use an MDX
provider.

If you use Next.js, **do not use this**.
Add an `mdx-components.tsx` (in `src/` or `/`) file instead.
See [Configuring MDX on `nextjs.org`][next-configuring-mdx] for more info.

## 安装

此程序包[仅限ESM][esm].
在Node.js（16+版本）中，使用[npm][]安装:

```sh
npm install @mdx-js/react
```

In Deno with [`esm.sh`][esmsh]:

```tsx
import { MDXProvider } from "https://esm.sh/@mdx-js/react@3";
```

在带有[`esm.sh`][esmsh]的浏览器中:

```html
<script type="module">
  import { MDXProvider } from "https://esm.sh/@mdx-js/react@3?bundle";
</script>
```

## 使用

```tsx
import { MDXProvider } from "@mdx-js/react";
import Post from "./post.mdx";
// ^-- Assumes an integration is used to compile MDX to JS, such as
// `@mdx-js/esbuild`, `@mdx-js/loader`, `@mdx-js/node-loader`, or
// `@mdx-js/rollup`, and that it is configured with
// `options.providerImportSource: '@mdx-js/react'`.

/** @type {import('mdx/types.js').MDXComponents} */
const components = {
  em(properties) {
    return <i {...properties} />;
  },
};

console.log(
  <MDXProvider components={components}>
    <Post />
  </MDXProvider>
);
```

> 👉 **Note**: you don’t have to use `MDXProvider` and can pass components
> directly:
>
> ```diff
> -<MDXProvider components={components}>
> -  <Post />
> -</MDXProvider>
> +<Post components={components} />
> ```

关于如何开始使用MDX和React，请参见§入门中的[¶React][start-react]。
有关如何使用MDX提供程序，请参见§使用MDX]中的[¶MDX提供器][use-provider] 。

## API

This package exports the identifiers [`MDXProvider`][api-mdx-provider] and
[`useMDXComponents`][api-use-mdx-components].
There is no default export.

### `MDXProvider(properties?)`

MDX上下文的提供程序。

###### Parameters

- `properties` ([`Props`][api-props])
  — configuration

##### Returns

Element (`JSX.Element`).

### `useMDXComponents(components?)`

从MDX上下文获取当前组件。

###### 参数

- `components` ([`MDXComponents` from `mdx/types.js`][mdx-types-components]
  or [`MergeComponents`][api-merge-components], optional)
  — additional components to use or a function that creates them

###### 返回

当前组件 ([`MDXComponents` from `mdx/types.js`][mdx-types-components]).

### `MergeComponents`

自定义合并功能 (TypeScript type).

###### 参数

- `components` ([`MDXComponents` from `mdx/types.js`][mdx-types-components])
  — 上下文中的当前组件

###### 返回

Additional components ([`MDXComponents` from
`mdx/types.js`][mdx-types-components]).

### `Props`

`MDXProvider`的配置 (TypeScript type).

###### 字段

- `children` ([`ReactNode` from `react`][react-node],
  optional)
  — children
- `components` ([`MDXComponents` from `mdx/types.js`][mdx-types-components]
  or [`MergeComponents`][api-merge-components], optional)
  — additional components to use or a function that creates them
- `disableParentContext` (`boolean`, default: `false`)
  — turn off outer component context

## 类型

此包是使用[TypeScript][]完全键入的.
It exports the additional types [`MergeComponents`][api-merge-components] and
[`Props`][api-props].

For types to work, make sure the TypeScript `JSX` namespace is typed.
This is done by installing and using the types of your framework, as in
[`@types/react`](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/react).

## 兼容性

统一集体维护的项目与Node.js的维护版本兼容。

当我们剪切一个新的主要版本时，我们会放弃对Node的未维护版本的支持。
这意味着我们尽量保持当前的发布线, `@mdx-js/react@^3`, 与Node.js 16兼容。

## 安全

有关信息，请参阅我们网站上的[§安全][security]。

## Contribute

See [§ Contribute][contribute] on our website for ways to get started.
See [§ Support][support] for ways to get help.

This project has a [code of conduct][coc].
By interacting with this repository, organization, or community you agree to
abide by its terms.

## License

[MIT][] © Compositor and [Vercel][]

[build-badge]: https://github.com/mdx-js/mdx/workflows/main/badge.svg
[build]: https://github.com/mdx-js/mdx/actions
[coverage-badge]: https://img.shields.io/codecov/c/github/mdx-js/mdx/main.svg
[coverage]: https://codecov.io/github/mdx-js/mdx
[downloads-badge]: https://img.shields.io/npm/dm/@mdx-js/react.svg
[downloads]: https://www.npmjs.com/package/@mdx-js/react
[size-badge]: https://img.shields.io/bundlejs/size/@mdx-js/react
[size]: https://bundlejs.com/?q=@mdx-js/react
[sponsors-badge]: https://opencollective.com/unified/sponsors/badge.svg
[backers-badge]: https://opencollective.com/unified/backers/badge.svg
[collective]: https://opencollective.com/unified
[chat-badge]: https://img.shields.io/badge/chat-discussions-success.svg
[chat]: https://github.com/mdx-js/mdx/discussions
[npm]: https://docs.npmjs.com/cli/install
[contribute]: https://mdxjs.com/community/contribute/
[support]: https://mdxjs.com/community/support/
[coc]: https://github.com/mdx-js/.github/blob/main/code-of-conduct.md
[mit]: https://github.com/mdx-js/mdx/blob/main/packages/react/license
[vercel]: https://vercel.com
[start-react]: https://mdxjs.com/getting-started/#react
[use-provider]: https://mdxjs.com/docs/using-mdx/#mdx-provider
[esm]: https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c
[esmsh]: https://esm.sh
[security]: https://mdxjs.com/getting-started/#security
[typescript]: https://www.typescriptlang.org
[mdx-types-components]: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/HEAD/types/mdx/types.d.ts#L65
[react-node]: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/HEAD/types/react/index.d.ts#L244
[next-configuring-mdx]: https://nextjs.org/docs/pages/building-your-application/configuring/mdx
[api-mdx-provider]: #mdxproviderproperties
[api-merge-components]: #mergecomponents
[api-props]: #props
[api-use-mdx-components]: #usemdxcomponentscomponents
